<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Zentora — Premium Gourmet Experience</title>

    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

    <style>
        :root { --gold:#d4af37; }
        * { box-sizing:border-box; margin:0; padding:0; font-family:'Inter',sans-serif; }
        body { background:#000; color:#fff; overflow-x:hidden; }

        #canvas-container {
            position:fixed; top:0; left:0; width:100%; height:100vh;
            z-index:1; pointer-events:none;
        }

        nav {
            position:fixed; top:0; width:100%; z-index:100;
            padding:20px 5%; display:flex; justify-content:space-between; align-items:center;
            background:rgba(0,0,0,0.5); backdrop-filter:blur(20px);
            border-bottom:1px solid rgba(212,175,55,0.1);
        }

        .logo { display:flex; align-items:center; gap:15px; }
        .logo img { width:45px; height:45px; border-radius:8px; border:1px solid var(--gold); }
        .logo-text { font-family:'Playfair Display',serif; font-size:1.4rem; font-weight:900; color:var(--gold); letter-spacing:2px; }

        .section { position:relative; min-height:100vh; display:flex; align-items:center; padding:0 10%; z-index:2; }

        .hero { height:100vh; display:flex; flex-direction:column; justify-content:center; align-items:center; text-align:center; }
        .hero-title { font-family:'Playfair Display',serif; font-size:clamp(3rem,10vw,6rem); color:var(--gold); opacity:0; transform:translateY(50px); }
        .hero p { max-width:600px; color:#ccc; margin-top:20px; z-index: 5; }

        .content-box {
            max-width:420px; background:rgba(0,0,0,0.6); padding:40px;
            border-radius:20px; border:1px solid rgba(212,175,55,0.2);
            backdrop-filter:blur(15px); opacity:0;
        }

        .content-box.right { margin-left:auto; }

        h1 { font-family:'Playfair Display',serif; color:var(--gold); font-size:2.5rem; margin-bottom:20px; }
        p { line-height:1.7; color:#ddd; margin-bottom:25px; }
        .cta-button { display:inline-block; padding:12px 25px; border:1px solid var(--gold); color:var(--gold); text-decoration:none; transition:0.3s; border-radius:5px; }
        .cta-button:hover { background:var(--gold); color:#000; }

        #loader { position:fixed; inset:0; background:#000; z-index:10000; display:flex; justify-content:center; align-items:center; }
        .loader-text { font-family:'Playfair Display',serif; font-size:2rem; color:var(--gold); letter-spacing:5px; }
    </style>
</head>

<body>

<div id="loader"><div class="loader-text">ZENTORA</div></div>

<nav>
    <div class="logo">
        <img src="LOGO.jpg" alt="Logo"/>
        <div class="logo-text">ZENTORA</div>
    </div>
</nav>

<div id="canvas-container"></div>

<section class="hero">
    <h1 class="hero-title">ZENTORA</h1>
    <p>Premium Sri Lankan Gourmet Experience</p>
</section>

<section class="section" id="section-1">
    <div class="content-box">
        <h1>Sri Lankan Heritage</h1>
        <p>A traditional family recipe blending rich island spices with delicate quail eggs.</p>
        <a href="#" class="cta-button">Discover the Craft</a>
    </div>
</section>

<section class="section" id="section-2">
    <div class="content-box right">
        <h1>Bold Heat</h1>
        <p>Fire-roasted chilies meet silky eggs to create a deep, savory luxury heat.</p>
        <a href="#" class="cta-button">Experience the Heat</a>
    </div>
</section>

<section class="section" id="section-3">
    <div class="content-box">
        <h1>Global Fusion</h1>
        <p>Inspired by Mexican flavors with jalapeños and aromatic local herbs.</p>
        <a href="#" class="cta-button">Explore the Flavor</a>
    </div>
</section>

<script>
    gsap.registerPlugin(ScrollTrigger);

    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(50, window.innerWidth/window.innerHeight, 0.1, 1000);
    const renderer = new THREE.WebGLRenderer({ antialias:true, alpha:true });
    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
    document.getElementById('canvas-container').appendChild(renderer.domElement);

    scene.add(new THREE.AmbientLight(0xffffff, 1.5));
    camera.position.z = 8;

    const textureLoader = new THREE.TextureLoader();
    const products = [];
    const productData = [
        { url: 'sri-lankan-pickle.jpg', initialX: -2.5, targetX: 3 }, // Text Left -> Image Right
        { url: 'chilli-paste.jpg', initialX: 0, targetX: -3 },       // Text Right -> Image Left
        { url: 'mexican-pickle.jpg', initialX: 2.5, targetX: 3 }     // Text Left -> Image Right
    ];

    productData.forEach((data, i) => {
        textureLoader.load(data.url, (texture) => {
            const geometry = new THREE.PlaneGeometry(3, 4);
            const material = new THREE.MeshStandardMaterial({ map: texture, transparent: true, opacity: 0.8 });
            const mesh = new THREE.Mesh(geometry, material);
            
            // මුලින්ම පින්තූර 3ම Hero එකේ පේළියට තියනවා
            mesh.position.set(data.initialX, -1, 0); 
            scene.add(mesh);
            products[i] = mesh;

            // Scroll කරන විට සිදුවන වෙනස
            const tl = gsap.timeline({
                scrollTrigger: {
                    trigger: `#section-${i + 1}`,
                    start: "top bottom", 
                    end: "top center",
                    scrub: 1
                }
            });

            // අදාළ පැත්තට පින්තූරය ගෙන යාම
            tl.to(mesh.position, {
                x: data.targetX,
                y: 0,
                z: 2
            })
            .to(mesh.material, { opacity: 1 }, 0);

            // අනෙක් පින්තූර මැකී යාම (Focus effect)
            productData.forEach((_, otherIdx) => {
                if (i !== otherIdx) {
                    gsap.to(products[otherIdx]?.material || {}, {
                        scrollTrigger: {
                            trigger: `#section-${i + 1}`,
                            start: "top center",
                            scrub: true
                        },
                        opacity: 0.1
                    });
                }
            });
        });
    });

    function animate() {
        requestAnimationFrame(animate);
        const time = Date.now() * 0.001;
        products.forEach((mesh, i) => {
            if (mesh) {
                mesh.position.y += Math.sin(time + i) * 0.003;
                mesh.rotation.y = Math.sin(time * 0.5) * 0.05;
            }
        });
        renderer.render(scene, camera);
    }
    animate();

    window.onload = () => {
        gsap.to('#loader', { opacity: 0, duration: 0.8, onComplete: () => document.getElementById('loader').remove() });
        gsap.to('.hero-title', { opacity: 1, y: 0, duration: 1, delay: 0.5 });
    };

    gsap.utils.toArray('.content-box').forEach((box, i) => {
        gsap.to(box, {
            scrollTrigger: {
                trigger: box,
                start: "top 80%",
                end: "top 40%",
                scrub: 1
            },
            opacity: 1,
            x: 0
        });
    });

    window.addEventListener('resize', () => {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
    });
</script>

</body>
</html>